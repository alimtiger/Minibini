{% extends 'base.html' %}

{% block title %}Edit Job {{ job.job_number }} - Minibini{% endblock %}

{% block content %}
<h2>Edit Job {{ job.job_number }}</h2>

<p><strong>Current Status:</strong> {{ job.get_status_display }}</p>

<form method="post">
    {% csrf_token %}

    <p>
        <label for="{{ form.contact.id_for_label }}"><strong>{{ form.contact.label }}</strong></label><br>
        {{ form.contact }}
        {% if form.contact.help_text %}
            <br><em>{{ form.contact.help_text }}</em>
        {% endif %}
        {% if form.contact.errors %}
            <br><strong style="color: red;">{{ form.contact.errors.0 }}</strong>
        {% endif %}
    </p>

    <p>
        <label for="{{ form.status.id_for_label }}"><strong>{{ form.status.label }}</strong></label><br>
        {{ form.status }}
        {% if form.status.errors %}
            <br><strong style="color: red;">{{ form.status.errors.0 }}</strong>
        {% endif %}
    </p>

    <p>
        <label for="{{ form.created_date.id_for_label }}"><strong>{{ form.created_date.label }}</strong></label><br>
        {{ form.created_date }}
        {% if form.created_date.help_text %}
            <br><em>{{ form.created_date.help_text }}</em>
        {% endif %}
        {% if form.created_date.errors %}
            <br><strong style="color: red;">{{ form.created_date.errors.0 }}</strong>
        {% endif %}
    </p>

    <p>
        <label for="{{ form.due_date.id_for_label }}"><strong>{{ form.due_date.label }}</strong></label><br>
        {{ form.due_date }}
        {% if form.due_date.errors %}
            <br><strong style="color: red;">{{ form.due_date.errors.0 }}</strong>
        {% endif %}
    </p>

    <p>
        <label for="{{ form.customer_po_number.id_for_label }}"><strong>{{ form.customer_po_number.label }}</strong></label><br>
        {{ form.customer_po_number }}
        {% if form.customer_po_number.errors %}
            <br><strong style="color: red;">{{ form.customer_po_number.errors.0 }}</strong>
        {% endif %}
    </p>

    <p>
        <label for="{{ form.description.id_for_label }}"><strong>{{ form.description.label }}</strong></label><br>
        {{ form.description }}
        {% if form.description.errors %}
            <br><strong style="color: red;">{{ form.description.errors.0 }}</strong>
        {% endif %}
    </p>

    <p>
        <button type="submit">Save Changes</button>
        <a href="{% url 'jobs:detail' job.job_id %}">Cancel</a>
    </p>
</form>
{% endblock %}
