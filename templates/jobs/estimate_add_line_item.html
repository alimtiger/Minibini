{% extends 'base.html' %}

{% block content %}
<h1>Add Line Item</h1>
<h2>Estimate: {{ estimate.estimate_number }}</h2>

<h3>Manual Entry</h3>
<form method="post">
    {% csrf_token %}
    <p>
        <label for="id_description"><strong>Description *</strong></label><br>
        {{ manual_form.description }}
        {% if manual_form.description.errors %}
            <br><span>{{ manual_form.description.errors }}</span>
        {% endif %}
    </p>
    <p>
        <label for="id_qty"><strong>Qty *</strong></label><br>
        {{ manual_form.qty }}
        {% if manual_form.qty.errors %}
            <br><span>{{ manual_form.qty.errors }}</span>
        {% endif %}
    </p>
    <p>
        <label for="id_units"><strong>Units</strong></label><br>
        {{ manual_form.units }}
        {% if manual_form.units.errors %}
            <br><span>{{ manual_form.units.errors }}</span>
        {% endif %}
    </p>
    <p>
        <label for="id_price_currency"><strong>Price *</strong></label><br>
        {{ manual_form.price_currency }}
        {% if manual_form.price_currency.errors %}
            <br><span>{{ manual_form.price_currency.errors }}</span>
        {% endif %}
    </p>
    <p>
        <button type="submit" name="manual_submit">Add Manual Line Item</button>
    </p>
</form>

<hr>

<h3>From Price List</h3>
<form method="post">
    {% csrf_token %}
    <p>
        <label for="id_price_list_item"><strong>Price List Item *</strong></label><br>
        {{ pricelist_form.price_list_item }}
        {% if pricelist_form.price_list_item.errors %}
            <br><span>{{ pricelist_form.price_list_item.errors }}</span>
        {% endif %}
    </p>
    <p>
        <label for="id_qty"><strong>Qty *</strong></label><br>
        {{ pricelist_form.qty }}
        {% if pricelist_form.qty.errors %}
            <br><span>{{ pricelist_form.qty.errors }}</span>
        {% endif %}
    </p>
    <p>
        <button type="submit" name="pricelist_submit">Add from Price List</button>
    </p>
</form>

<p>
    <a href="{% url 'jobs:estimate_detail' estimate.estimate_id %}">Back to Estimate</a>
</p>
{% endblock %}